webpackJsonp([4],{q32D:function(e,r){},rcwB:function(e,r){},vAij:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l={data:function(){var e=this;return{ruleForm:{idCard:"",tel:"",telcode:"",pwd:""},loading:!1,rules:{idCard:[{trigger:"blur",validator:function(r,t,l){if(e.ruleForm.idCard=t,""!=e.ruleForm.idCard)return/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t)?l():l(new Error("身份证号码为15位或者18位，15位时全为数字，18位前17位为数字，最后一位是校验位，可能为数字或字符X"));return l(new Error("请输入身份证"))}}],tel:[{trigger:"blur",validator:function(r,t,l){if(e.ruleForm.tel=t,""!=e.ruleForm.tel)return/^1(3|4|5|6|7|8)\d{9}$/.test(t)?l():l(new Error("手机号码格式有误"));return l(new Error("请输入手机号码"))}}],telcode:[{trigger:"blur",validator:function(r,t,l){return e.ruleForm.telcode=t,""!=e.ruleForm.telcode?6==e.ruleForm.telcode.length?l():l(new Error("验证码为6位数")):l(new Error("请输入验证码"))}}],pwd:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},created:function(){this.ruleForm.idCard=this.$route.query.row.idnum,this.ruleForm.tel=this.$route.query.row.tel,this.ruleForm.pwd=this.$route.query.row.password},methods:{submitForm:function(){var e=this;this.$refs.ruleForm.validate(function(r){r&&e.$api.post("gyswallet/updateGysWalletInfo",{idCard:e.ruleForm.idCard,tel:e.ruleForm.tel,telcode:e.ruleForm.telcode,password:e.ruleForm.pwd},localStorage.token,function(r){e.$message({type:"success",message:r.msg}),e.$router.push({path:"/nav/zzbao/zzbao"})},function(r){e.$message({type:"error",message:r.msg})})})},getTelCode:function(){var e=this;""!=this.ruleForm.tel?this.$api.post("gyswallet/createGysWalletSendEmail/"+this.ruleForm.tel,{},localStorage.token,function(r){e.$message({type:"success",message:r.msg})},function(r){e.$message({type:"error",message:"获取短信验证码失败"})}):this.$message({type:"waring",message:"手机号码不能为空"})},returnZhizhibao:function(){this.$router.push({path:"/nav/zzbao/zzbao"})}}},o={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[e._m(0),e._v(" "),t("el-form",{ref:"ruleForm",staticStyle:{"text-align":"left"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"身份证",prop:"idCard"}},[t("el-input",{attrs:{clearable:"",maxlength:"18"},model:{value:e.ruleForm.idCard,callback:function(r){e.$set(e.ruleForm,"idCard",r)},expression:"ruleForm.idCard"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"联系电话",prop:"tel"}},[t("el-input",{attrs:{clearable:"",maxlength:"11"},model:{value:e.ruleForm.tel,callback:function(r){e.$set(e.ruleForm,"tel",r)},expression:"ruleForm.tel"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"短信验证码",prop:"telcode"}},[t("el-input",{attrs:{clearable:"",maxlength:"6"},model:{value:e.ruleForm.telcode,callback:function(r){e.$set(e.ruleForm,"telcode",r)},expression:"ruleForm.telcode"}}),e._v(" "),t("el-button",{attrs:{type:"primary"},nativeOn:{click:function(r){return r.preventDefault(),e.getTelCode(r)}}},[e._v("获取")])],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[t("el-input",{attrs:{type:"password",clearable:""},model:{value:e.ruleForm.pwd,callback:function(r){e.$set(e.ruleForm,"pwd",r)},expression:"ruleForm.pwd"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(r){return r.preventDefault(),e.submitForm(r)}}},[e._v("提交")]),e._v(" "),t("el-button",{nativeOn:{click:function(r){return r.preventDefault(),e.returnZhizhibao(r)}}},[e._v("返回")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"tip"},[r("p",[this._v("温馨提醒：表单界面右侧有选项卡，必须将基本信息和详情填写完毕才可以提交表单")])])}]};var a=t("VU/8")(l,o,!1,function(e){t("q32D"),t("rcwB")},"data-v-ea9cd7aa",null);r.default=a.exports}});
//# sourceMappingURL=4.753f73cd53ad3dd5a4a7.js.map